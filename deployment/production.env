# Production Environment Configuration
# AI-Powered Radiology Information System (RIS)

# ========== DJANGO CORE SETTINGS ==========
DJANGO_SECRET_KEY=REPLACE_WITH_SECURE_SECRET_KEY_HERE
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,your-server-ip

# ========== DATABASE CONFIGURATION ==========
DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=ris_production
DATABASE_USER=ris_user
DATABASE_PASSWORD=REPLACE_WITH_SECURE_DB_PASSWORD
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_CONN_MAX_AGE=300

# ========== REDIS CONFIGURATION ==========
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_URL=redis://localhost:6379/1
REDIS_SESSION_URL=redis://localhost:6379/2
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD

# ========== SECURITY SETTINGS ==========
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
X_FRAME_OPTIONS=DENY

# ========== CORS CONFIGURATION ==========
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_ALL_ORIGINS=False

# ========== JWT CONFIGURATION ==========
JWT_ACCESS_TOKEN_LIFETIME_HOURS=8
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7
JWT_ROTATE_REFRESH_TOKENS=True
JWT_BLACKLIST_AFTER_ROTATION=True

# ========== STATIC AND MEDIA FILES ==========
STATIC_ROOT=/var/www/ris/static
MEDIA_ROOT=/var/www/ris/media
STATIC_URL=/static/
MEDIA_URL=/media/

# ========== EMAIL CONFIGURATION ==========
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.yourdomain.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=ris@yourdomain.com
EMAIL_HOST_PASSWORD=REPLACE_WITH_EMAIL_PASSWORD
DEFAULT_FROM_EMAIL=RIS System <ris@yourdomain.com>

# ========== AI SYSTEM CONFIGURATION ==========

# Ollama Server Configuration
AI_OLLAMA_SERVER_URL=http://localhost:11434
AI_OLLAMA_TIMEOUT=300

# AI Model Configuration
AI_VISION_MODEL=llava-med:7b
AI_MEDICAL_LLM=meditron:7b
AI_QA_MODEL=medalpaca:7b

# AI Processing Settings
AI_MAX_PROCESSING_TIME=300
AI_CONFIDENCE_THRESHOLD=0.75
AI_CRITICAL_FINDINGS_THRESHOLD=0.85
AI_BATCH_SIZE=4
AI_MAX_CONCURRENT_REQUESTS=2

# AI Quality Assurance
AI_ENABLE_QA_VALIDATION=True
AI_REQUIRE_PEER_REVIEW_CRITICAL=True
AI_AUTO_APPROVE_ROUTINE=False

# AI Notifications
AI_NOTIFY_CRITICAL_FINDINGS=True
AI_NOTIFICATION_EMAILS=radiologist@yourdomain.com,supervisor@yourdomain.com

# AI System Control
AI_REPORTING_ENABLED=True
AI_MAINTENANCE_MODE=False

# ========== DICOM CONFIGURATION ==========
DICOM_ORG_ROOT=1.2.826.0.1.3680043.8.498
DICOM_AE_TITLE=RIS_PROD_SCP
DICOM_MWL_PORT=11112

# Orthanc PACS Configuration
ORTHANC_SERVER_URL=http://localhost:8042
ORTHANC_USERNAME=orthanc-user
ORTHANC_PASSWORD=REPLACE_WITH_ORTHANC_PASSWORD

# ========== LOGGING CONFIGURATION ==========
LOG_LEVEL=INFO
LOG_ROOT=/var/log/ris
DJANGO_LOG_LEVEL=WARNING
AUDIT_LOG_RETENTION_DAYS=730
AUDIT_LOG_CLEANUP_BATCH_SIZE=1000

# ========== MONITORING CONFIGURATION ==========
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Health Check Configuration
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_PATH=/health/
HEALTH_CHECK_AI_TIMEOUT=30

# ========== BACKUP CONFIGURATION ==========
BACKUP_ENABLED=True
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=ris-backups-bucket
BACKUP_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY

# ========== PERFORMANCE SETTINGS ==========
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=300
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=100

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# Cache Settings
CACHE_TIMEOUT=300
CACHE_MAX_ENTRIES=10000

# ========== GPU CONFIGURATION ==========
CUDA_VISIBLE_DEVICES=0
GPU_MEMORY_FRACTION=0.8
AI_MODEL_CACHE_SIZE=2

# ========== MAINTENANCE SETTINGS ==========
MAINTENANCE_MODE=False
MAINTENANCE_MESSAGE="System is under maintenance. Please try again later."

# ========== FEATURE FLAGS ==========
FEATURE_AI_REPORTING=True
FEATURE_COLLABORATIVE_REPORTING=True
FEATURE_ADVANCED_ANALYTICS=True
FEATURE_AUDIT_TRAILS=True

# ========== RATE LIMITING ==========
RATELIMIT_ENABLE=True
RATELIMIT_USE_CACHE=default
API_RATE_LIMIT=1000/hour
AI_API_RATE_LIMIT=100/hour

# ========== SESSION CONFIGURATION ==========
SESSION_ENGINE=django.contrib.sessions.backends.cache
SESSION_CACHE_ALIAS=default
SESSION_COOKIE_AGE=28800  # 8 hours
SESSION_EXPIRE_AT_BROWSER_CLOSE=True

# ========== CELERY CONFIGURATION (if using async tasks) ==========
CELERY_BROKER_URL=redis://localhost:6379/3
CELERY_RESULT_BACKEND=redis://localhost:6379/4
CELERY_ACCEPT_CONTENT=json
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=Asia/Kuala_Lumpur

# ========== CUSTOM CLINIC SETTINGS ==========
KLINIK_NAME="Klinik Kesihatan Puchong Batu 14"
KLINIK_SHORT="KKP"
TIMEZONE=Asia/Kuala_Lumpur
LANGUAGE_CODE=ms-my